webpackJsonpCoveo__temporary([64],{310:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=n(9),c=n(5),u=n(11),p=n(3),s=n(2),a=n(1),l=n(4),y=function(t){function e(n,o,r){var s=t.call(this,n,e.ID,r)||this;if(s.element=n,s.options=o,s.bindings=r,s.options=i.ComponentOptions.initComponentOptions(n,e,o),"script"==s.element.tagName.toLowerCase())try{s.content=JSON.parse(c.Utils.decodeHTMLEntities(p.$$(s.element).text()))}catch(t){try{s.content=JSON.parse(p.$$(s.element).text())}catch(t){return s}}return s.bind.onRootElement(u.QueryEvents.buildingQuery,function(t){return s.handleBuildingQuery(t)}),s}return o(e,t),e.prototype.getContextKeys=function(){return this.content?a.keys(this.content):[]},e.prototype.getContextValue=function(t){return this.content[t].replace(/\{\!([^\}]+)\}/g,function(t,n){return null!=Coveo.context&&n in Coveo.context?Coveo.context[n]:n==e.CURRENT_URL?window.location.href:""})},e.prototype.handleBuildingQuery=function(t){var e=this,n=this.getContextKeys();a.each(n,function(n){t.queryBuilder.addContextValue(n,e.getContextValue(n))})},e}(r.Component);y.ID="PipelineContext",y.CURRENT_URL="CurrentUrl",y.doExport=function(){l.exportGlobally({PipelineContext:y,context:e.context})},e.PipelineContext=y,s.Initialization.registerAutoCreateComponent(y)}});