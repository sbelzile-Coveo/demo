webpackJsonpCoveo__temporary([5],{254:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),s=n(9),r=n(11),a=n(33),p=n(32),d=n(39),c=n(67),l=n(62),u=n(12),h=n(43),m=n(268),v=n(13),f=n(18),y=n(5),C=n(3),S=n(652),R=n(257),E=n(46),g=n(17),w=n(1),_=n(4),O=n(441),b=n(649),A=n(258);n(603);var D=function(e){function t(n,o,i,a){void 0===o&&(o={}),void 0===i&&(i={}),void 0===a&&(a=window);var p=e.call(this,n,s.ComponentOptions.initComponentOptions(n,t,o),i,a)||this;return p.element=n,p.options=o,p.analyticsOptions=i,p.options.id||p.generateDefaultId(),p.preventEventPropagation(),p.options.mainSearchInterface&&p.bindToMainSearchInterface(),C.$$(p.element).on(r.QueryEvents.buildingQuery,function(e,t){return p.handleRecommendationBuildingQuery(t)}),C.$$(p.element).on(r.QueryEvents.querySuccess,function(e,t){return p.handleRecommendationQuerySuccess(t)}),C.$$(p.element).on(r.QueryEvents.noResults,function(e,t){return p.handleRecommendationNoResults()}),C.$$(p.element).on(r.QueryEvents.queryError,function(e,t){return p.handleRecommendationQueryError()}),p.historyStore=new R.history.HistoryStore,p.options.mainSearchInterface||p.ensureCurrentPageViewExistsInStore(),S.ResponsiveRecommendation.init(p.root,p,o),p}return o(t,e),t.prototype.getId=function(){return this.options.id},t.prototype.enable=function(){e.prototype.enable.call(this),this.show()},t.prototype.disable=function(){e.prototype.disable.call(this),this.hide()},t.prototype.hide=function(){this.displayStyle||(this.displayStyle=this.element.style.display),C.$$(this.element).hide()},t.prototype.show=function(){this.displayStyle||(this.displayStyle=this.element.style.display),this.element.style.display=this.displayStyle},t.prototype.ensureCurrentPageViewExistsInStore=function(){var e={name:"PageView",value:document.location.toString(),time:JSON.stringify(new Date),title:document.title};this.historyStore.addElement(e)},t.prototype.bindToMainSearchInterface=function(){this.bindComponentOptionsModelToMainSearchInterface(),this.bindQueryEventsToMainSearchInterface()},t.prototype.bindComponentOptionsModelToMainSearchInterface=function(){var e=this,t=E.get(this.options.mainSearchInterface,i.SearchInterface),n=null!=t,o=function(){var n=t.getBindings().componentOptionsModel;e.componentOptionsModel.setMultiple(n.getAttributes()),C.$$(e.options.mainSearchInterface).on(e.componentOptionsModel.getEventName(f.MODEL_EVENTS.ALL),function(){e.componentOptionsModel.setMultiple(n.getAttributes())})};n?o():C.$$(this.options.mainSearchInterface).on(g.InitializationEvents.afterComponentsInitialization,function(){t=E.get(e.options.mainSearchInterface,i.SearchInterface),o()})},t.prototype.bindQueryEventsToMainSearchInterface=function(){var e=this;C.$$(this.options.mainSearchInterface).on(r.QueryEvents.querySuccess,function(t,n){e.mainInterfaceQuery=n,e.mainQuerySearchUID=n.results.searchUid,e.mainQueryPipeline=n.results.pipeline,e.usageAnalytics.logSearchEvent(u.analyticsActionCauseList.recommendation,{}),e.queryController.executeQuery({closeModalBox:!1})})},t.prototype.handleRecommendationBuildingQuery=function(e){this.disabled||(this.modifyQueryForRecommendation(e),this.addRecommendationInfoInQuery(e))},t.prototype.handleRecommendationQuerySuccess=function(e){this.disabled||this.options.hideIfNoResults&&(0===e.results.totalCount?this.hide():this.show())},t.prototype.handleRecommendationNoResults=function(){this.disabled||this.options.hideIfNoResults&&this.hide()},t.prototype.handleRecommendationQueryError=function(){this.disabled||this.hide()},t.prototype.modifyQueryForRecommendation=function(e){this.mainInterfaceQuery&&y.Utils.copyObjectAttributes(e.queryBuilder,this.mainInterfaceQuery.queryBuilder,this.options.optionsToUse)},t.prototype.addRecommendationInfoInQuery=function(e){w.isEmpty(this.options.userContext)||e.queryBuilder.addContext(JSON.parse(this.options.userContext)),this.options.sendActionsHistory&&(e.queryBuilder.actionsHistory=this.getHistory()),e.queryBuilder.recommendation=this.options.id},t.prototype.getHistory=function(){var e=this.historyStore.getHistory();return null==e&&(e=[]),JSON.stringify(e)},t.prototype.preventEventPropagation=function(){this.preventEventPropagationOn(r.QueryEvents),this.preventEventPropagationOn(a.OmniboxEvents),this.preventEventPropagationOn(p.ResultListEvents),this.preventEventPropagationOn(d.SettingsEvents),this.preventEventPropagationOn(c.PreferencesPanelEvents),this.preventEventPropagationOn(l.AnalyticsEvents),this.preventEventPropagationOn(h.BreadcrumbEvents),this.preventEventPropagationOn(m.QuickviewEvents),this.preventEventPropagationOn(g.InitializationEvents),this.preventEventPropagationOn(this.getAllModelEvents())},t.prototype.preventEventPropagationOn=function(e,t){void 0===t&&(t=function(e){return e});for(var n in e)C.$$(this.root).on(t(n),function(e){return e.stopPropagation()})},t.prototype.getAllModelEvents=function(){var e=this,t={};return w.each(w.values(f.Model.eventTypes),function(n){w.each(w.values(v.QUERY_STATE_ATTRIBUTES),function(o){var i=e.getBindings().queryStateModel.getEventName(n+o);t[i]=i})}),t},t.prototype.generateDefaultId=function(){var e="Recommendation";1!==t.NEXT_ID&&(this.logger.warn("Generating another recommendation default id","Consider configuring a human friendly / meaningful id for this interface"),e=e+"_"+t.NEXT_ID),t.NEXT_ID++,this.options.id=e},t}(i.SearchInterface);D.ID="Recommendation",D.NEXT_ID=1,D.doExport=function(){_.exportGlobally({Recommendation:D,DefaultRecommendationTemplate:O.DefaultRecommendationTemplate,RecommendationQuery:b.RecommendationQuery,RecommendationAnalyticsClient:A.RecommendationAnalyticsClient})},D.options={mainSearchInterface:s.ComponentOptions.buildSelectorOption(),userContext:s.ComponentOptions.buildJsonOption(),id:s.ComponentOptions.buildStringOption(),optionsToUse:s.ComponentOptions.buildListOption({defaultValue:["expression"]}),sendActionsHistory:s.ComponentOptions.buildBooleanOption({defaultValue:!0}),hideIfNoResults:s.ComponentOptions.buildBooleanOption({defaultValue:!0}),autoTriggerQuery:s.ComponentOptions.buildBooleanOption({postProcessing:function(e,t){return!t.mainSearchInterface&&e}}),enableResponsiveMode:s.ComponentOptions.buildBooleanOption({defaultValue:!0}),responsiveBreakpoint:s.ComponentOptions.buildNumberOption({defaultValue:1e3}),dropdownHeaderLabel:s.ComponentOptions.buildLocalizedStringOption({defaultValue:"Recommendations"})},t.Recommendation=D},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(){function e(){}return e.addPrefixedEvent=function(e,t,n){o.each(this.prefixes,function(o){""==o&&(t=t.toLowerCase()),e.addEventListener(o+t,n,!1)})},e.removePrefixedEvent=function(e,t,n){o.each(this.prefixes,function(o){""==o&&(t=t.toLowerCase()),e.removeEventListener(o+t,n,!1)})},e}();i.prefixes=["webkit","moz","MS","o",""],t.EventsUtils=i},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();o.quickviewLoaded="quickviewLoaded",o.openQuickview="openQuickview",t.QuickviewEvents=o},422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(263),s=n(1),r=function(){function e(e,t,n){this.dropdownContent=e,this.dropdownHeader=t,this.coveoRoot=n,this.isOpened=!1,this.onOpenHandlers=[],this.onCloseHandlers=[],this.popupBackgroundIsEnabled=!0,this.popupBackground=this.buildPopupBackground(),this.bindOnClickDropdownHeaderEvent(),this.saveContentPosition()}return e.prototype.registerOnOpenHandler=function(e,t){this.onOpenHandlers.push({handler:e,context:t})},e.prototype.registerOnCloseHandler=function(e,t){this.onCloseHandlers.push({handler:e,context:t})},e.prototype.cleanUp=function(){this.close(),this.dropdownHeader.cleanUp(),this.dropdownContent.cleanUp(),this.restoreContentPosition()},e.prototype.open=function(){this.isOpened=!0,this.dropdownHeader.open(),this.dropdownContent.positionDropdown(),s.each(this.onOpenHandlers,function(e){e.handler.apply(e.context)}),this.showPopupBackground()},e.prototype.close=function(){this.isOpened=!1,s.each(this.onCloseHandlers,function(e){e.handler.apply(e.context)}),this.dropdownHeader.close(),this.dropdownContent.hideDropdown(),this.hidePopupBackground()},e.prototype.disablePopupBackground=function(){this.popupBackgroundIsEnabled=!1},e.prototype.bindOnClickDropdownHeaderEvent=function(){var e=this;this.dropdownHeader.element.on("click",function(){e.isOpened?e.close():e.open()})},e.prototype.showPopupBackground=function(){this.popupBackgroundIsEnabled&&(this.coveoRoot.el.appendChild(this.popupBackground.el),window.getComputedStyle(this.popupBackground.el).opacity,this.popupBackground.el.style.opacity=e.TRANSPARENT_BACKGROUND_OPACITY)},e.prototype.hidePopupBackground=function(){this.popupBackgroundIsEnabled&&(window.getComputedStyle(this.popupBackground.el).opacity,this.popupBackground.el.style.opacity="0")},e.prototype.buildPopupBackground=function(){var t=this,n=o.$$("div",{className:e.DROPDOWN_BACKGROUND_CSS_CLASS_NAME});return i.EventsUtils.addPrefixedEvent(n.el,"TransitionEnd",function(){"0"==n.el.style.opacity&&n.detach()}),n.on("click",function(){return t.close()}),n},e.prototype.saveContentPosition=function(){var e=this.dropdownContent.element.el.previousSibling,t=this.dropdownContent.element.el.parentElement;this.previousSibling=e?o.$$(e):null,this.parent=o.$$(t)},e.prototype.restoreContentPosition=function(){this.previousSibling?this.dropdownContent.element.insertAfter(this.previousSibling.el):this.parent.prepend(this.dropdownContent.element.el)},e}();r.TRANSPARENT_BACKGROUND_OPACITY="0.9",r.DROPDOWN_BACKGROUND_CSS_CLASS_NAME="coveo-dropdown-background",t.ResponsiveDropdown=r},423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(50),s=n(78),r=function(){function e(e,t,n,o,i){this.element=t,this.cssClassName="coveo-"+e+"-dropdown-content",this.coveoRoot=n,this.widthRatio=i,this.minWidth=o}return e.prototype.positionDropdown=function(){this.element.addClass(this.cssClassName),this.element.addClass(e.DEFAULT_CSS_CLASS_NAME),this.element.el.style.display="";var t=this.widthRatio*this.coveoRoot.width();t<=this.minWidth&&(t=this.minWidth),this.element.el.style.width=t.toString()+"px",i.PopupUtils.positionPopup(this.element.el,o.$$(this.coveoRoot.find("."+s.ResponsiveComponentsManager.DROPDOWN_HEADER_WRAPPER_CSS_CLASS)).el,this.coveoRoot.el,{horizontal:i.HorizontalAlignment.INNERRIGHT,vertical:i.VerticalAlignment.BOTTOM,verticalOffset:15},this.coveoRoot.el)},e.prototype.hideDropdown=function(){this.element.el.style.display="none",this.element.removeClass(this.cssClassName),this.element.removeClass(e.DEFAULT_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.el.removeAttribute("style")},e}();r.DEFAULT_CSS_CLASS_NAME="coveo-dropdown-content",t.ResponsiveDropdownContent=r},424:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=function(){function e(t,n){this.element=n,this.element.addClass("coveo-"+t+"-dropdown-header"),this.element.addClass(e.DEFAULT_CSS_CLASS_NAME)}return e.prototype.open=function(){this.element.addClass(e.ACTIVE_HEADER_CSS_CLASS_NAME)},e.prototype.close=function(){this.element.removeClass(e.ACTIVE_HEADER_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.detach()},e.prototype.hide=function(){o.$$(this.element).addClass("coveo-hidden")},e.prototype.show=function(){o.$$(this.element).removeClass("coveo-hidden")},e}();i.DEFAULT_CSS_CLASS_NAME="coveo-dropdown-header",i.ACTIVE_HEADER_CSS_CLASS_NAME="coveo-dropdown-header-active",t.ResponsiveDropdownHeader=i},441:function(e,t,n){"use strict";(function(e){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.instantiateToString=function(e){return'<div class="coveo-result-frame">\n        <div class="coveo-result-row">\n          <div class="coveo-result-cell" style="width:40px;text-align:center;vertical-align:middle;">\n            <span class="CoveoIcon" data-small="true">\n            </span>\n          </div>\n          <div class="coveo-result-cell" style="padding:0 0 3px 5px;vertical-align:middle">\n            <div class="coveo-result-row">\n              <div class="coveo-result-cell" style="font-size:10pt;">\n                <a class="CoveoResultLink" style="display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>'},n.prototype.instantiateToElement=function(t){var n=this;return new e(function(e,o){var i=document.createElement("div");i.innerHTML=n.instantiateToString(t),e(i)})},n}(i.Template);t.DefaultRecommendationTemplate=s}).call(t,n(6))},603:function(e,t){},604:function(e,t){},649:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),s=n(9),r=n(5),a=n(11),p=n(2),d=n(3),c=n(1),l=function(e){function t(n,o,i){var p=e.call(this,n,t.ID,i)||this;if(p.element=n,p.options=o,p.options=s.ComponentOptions.initComponentOptions(n,t,o),"script"===p.element.tagName.toLowerCase()){try{p.content=r.Utils.decodeHTMLEntities(d.$$(p.element).text())}catch(e){return p}c.isUndefined(p.content)||""==p.content||p.bind.onRootElement(a.QueryEvents.buildingQuery,p.handleBuildingQuery)}return p}return o(t,e),t.prototype.handleBuildingQuery=function(e){e.queryBuilder.advancedExpression.add(this.content)},t}(i.Component);l.ID="RecommendationQuery",l.options={},t.RecommendationQuery=l,p.Initialization.registerAutoCreateComponent(l)},650:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(423),i=n(3),s=function(){function e(e,t,n){this.element=t,this.coveoRoot=n,this.cssClassName="coveo-"+e+"-dropdown-content",this.element.addClass(this.cssClassName),this.element.addClass(o.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME)}return e.prototype.positionDropdown=function(){this.element.el.style.display="";var t=this.coveoRoot.find(".coveo-results-column");i.$$(t).prepend(this.element.el),this.element.addClass(o.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME),this.element.addClass(this.cssClassName),window.getComputedStyle(this.element.el).maxHeight,this.element.addClass(e.OPENED_DROPDOWN_CSS_CLASS_NAME)},e.prototype.hideDropdown=function(){this.element.addClass(o.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME),this.element.addClass(this.cssClassName),this.element.removeClass(e.OPENED_DROPDOWN_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.removeClass(this.cssClassName),this.element.removeClass(o.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME)},e}();s.OPENED_DROPDOWN_CSS_CLASS_NAME="coveo-open-dropdown-content",t.RecommendationDropdownContent=s},652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(78),i=n(89),s=n(21),r=n(5),a=n(3),p=n(14),d=n(254),c=n(650),l=n(424),u=n(422),h=n(10),m=n(8),v=n(46),f=n(11),y=n(1);n(604);var C=n(104),S=function(){function e(t,n,o,i){this.coveoRoot=t,this.ID=n,this.responsiveDropdown=i,this.recommendationRoot=this.getRecommendationRoot(),this.dropdownHeaderLabel=o.dropdownHeaderLabel,this.breakpoint=this.defineResponsiveBreakpoint(o),this.logger=new p.Logger(this),this.dropdown=this.buildDropdown(i),this.facets=this.getFacets(),this.facetSliders=this.getFacetSliders(),this.registerOnOpenHandler(),this.registerOnCloseHandler(),this.registerQueryEvents(),this.dropdownContainer=a.$$("div",{className:e.DROPDOWN_CONTAINER_CSS_CLASS_NAME}),this.handleResizeEvent()}return e.init=function(t,n,i){var s=new p.Logger("ResponsiveRecommendation"),r=this.findParentRootOfRecommendationComponent(t);return r?a.$$(r).find(".coveo-results-column")?void o.ResponsiveComponentsManager.register(e,a.$$(r),d.Recommendation.ID,n,y.extend({},i,{initializationEventRoot:a.$$(t)})):void s.info("Cannot find element with class coveo-results-column. Disabling responsive mode for this component."):void s.info("Recommendation component has no parent interface. Disabling responsive mode for this component.")},e.findParentRootOfRecommendationComponent=function(e){var t=a.$$(e).parents(m.Component.computeCssClassName(s.SearchInterface));return t[0]?a.$$(t[0]):null},e.prototype.handleResizeEvent=function(){this.needSmallMode()&&!i.ResponsiveComponentsUtils.isSmallRecommendationActivated(this.coveoRoot)?this.changeToSmallMode():!this.needSmallMode()&&i.ResponsiveComponentsUtils.isSmallRecommendationActivated(this.coveoRoot)&&this.changeToLargeMode(),this.dropdown.isOpened&&this.dropdown.dropdownContent.positionDropdown()},e.prototype.needDropdownWrapper=function(){return this.needSmallMode()},e.prototype.needSmallMode=function(){return this.coveoRoot.width()<=this.breakpoint},e.prototype.changeToSmallMode=function(){var e=this;this.dropdown.close();var t=this.coveoRoot.find("."+o.ResponsiveComponentsManager.DROPDOWN_HEADER_WRAPPER_CSS_CLASS);t?(a.$$(t).append(this.dropdown.dropdownHeader.element.el),this.disableFacetPreservePosition(),i.ResponsiveComponentsUtils.activateSmallRecommendation(this.coveoRoot),i.ResponsiveComponentsUtils.activateSmallRecommendation(this.recommendationRoot)):C.Defer.defer(function(){return e.handleResizeEvent()})},e.prototype.changeToLargeMode=function(){this.enableFacetPreservePosition(),this.dropdown.cleanUp(),i.ResponsiveComponentsUtils.deactivateSmallRecommendation(this.coveoRoot),i.ResponsiveComponentsUtils.deactivateSmallRecommendation(this.recommendationRoot)},e.prototype.buildDropdown=function(e){var t=this.buildDropdownContent(),n=this.buildDropdownHeader(),o=e||new u.ResponsiveDropdown(t,n,this.coveoRoot);return o.disablePopupBackground(),o},e.prototype.buildDropdownHeader=function(){var e=a.$$("a"),t=a.$$("p");return t.text(h.l(this.dropdownHeaderLabel)),e.el.appendChild(t.el),new l.ResponsiveDropdownHeader("recommendation",e)},e.prototype.buildDropdownContent=function(){var e,t=this.coveoRoot.find(".coveo-recommendation-column");return e=t?a.$$(t):a.$$(this.coveoRoot.find("."+m.Component.computeCssClassName(d.Recommendation))),new c.RecommendationDropdownContent("recommendation",e,this.coveoRoot)},e.prototype.defineResponsiveBreakpoint=function(t){return r.Utils.isNullOrUndefined(t.responsiveBreakpoint)?e.RESPONSIVE_BREAKPOINT:t.responsiveBreakpoint},e.prototype.getFacetSliders=function(){var e=[];return y.each(this.coveoRoot.findAll("."+m.Component.computeCssClassNameForType("FacetSlider")),function(t){var n=m.Component.get(t);e.push(n)}),e},e.prototype.getFacets=function(){var e=[];return y.each(this.coveoRoot.findAll("."+m.Component.computeCssClassNameForType("Facet")),function(t){var n=m.Component.get(t);e.push(n)}),e},e.prototype.dismissFacetSearches=function(){y.each(this.facets,function(e){e.facetSearch&&e.facetSearch.currentlyDisplayedResults&&e.facetSearch.completelyDismissSearch()})},e.prototype.enableFacetPreservePosition=function(){y.each(this.facets,function(e){return e.options.preservePosition=!0})},e.prototype.disableFacetPreservePosition=function(){y.each(this.facets,function(e){return e.options.preservePosition=!1})},e.prototype.drawFacetSliderGraphs=function(){y.each(this.facetSliders,function(e){return e.drawDelayedGraphData()})},e.prototype.registerOnOpenHandler=function(){this.dropdown.registerOnOpenHandler(this.drawFacetSliderGraphs,this)},e.prototype.registerOnCloseHandler=function(){this.dropdown.registerOnCloseHandler(this.dismissFacetSearches,this)},e.prototype.getRecommendationRoot=function(){return a.$$(this.coveoRoot.find("."+m.Component.computeCssClassName(d.Recommendation)))},e.prototype.registerQueryEvents=function(){var e=this,t=v.get(this.recommendationRoot.el,s.SearchInterface);t&&t.options.hideIfNoResults&&(this.coveoRoot.on(f.QueryEvents.querySuccess,function(t,n){return e.handleRecommnendationQuerySucess(n)}),this.coveoRoot.on(f.QueryEvents.noResults,function(t,n){return e.handleRecommendationNoResults()})),this.coveoRoot.on(f.QueryEvents.queryError,function(){return e.handleRecommendationQueryError()})},e.prototype.handleRecommnendationQuerySucess=function(e){0===e.results.totalCount?(this.dropdown.close(),this.dropdown.dropdownHeader.hide()):this.dropdown.dropdownHeader.show()},e.prototype.handleRecommendationNoResults=function(){this.dropdown.close(),this.dropdown.dropdownHeader.hide()},e.prototype.handleRecommendationQueryError=function(){this.dropdown.close(),this.dropdown.dropdownHeader.hide()},e}();S.DROPDOWN_CONTAINER_CSS_CLASS_NAME="coveo-recommendation-dropdown-container",S.RESPONSIVE_BREAKPOINT=1e3,t.ResponsiveRecommendation=S},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(17),s=n(8),r=n(21),a=n(5),p=n(1),d=n(11),c=n(14),l=function(){function e(t){var n=this;this.disabledComponents=[],this.responsiveComponents=[],this.coveoRoot=t,this.searchInterface=s.Component.get(this.coveoRoot.el,r.SearchInterface,!1),this.dropdownHeadersWrapper=o.$$("div",{className:e.DROPDOWN_HEADER_WRAPPER_CSS_CLASS}),this.searchBoxElement=this.getSearchBoxElement(),this.logger=new c.Logger(this),this.resizeListener=p.debounce(function(){0!=n.coveoRoot.width()?(n.addDropdownHeaderWrapperIfNeeded(),n.shouldSwitchToSmallMode()?n.coveoRoot.addClass("coveo-small-interface"):n.shouldSwitchToSmallMode()||n.coveoRoot.removeClass("coveo-small-interface"),p.each(n.responsiveComponents,function(e){e.handleResizeEvent()})):n.logger.warn("The width of the search interface is 0, cannot dispatch resize events to responsive components. This means that the tabs will not\n        automatically fit in the tab section. Also, the facet and recommendation component will not hide in a menu. Could the search\n        interface display property be none? Could its visibility property be set to hidden? Also, if either of these scenarios happen during\n        loading, it could be the cause of this issue.")},e.RESIZE_DEBOUNCE_DELAY,!0),window.addEventListener("resize",this.resizeListener),this.bindNukeEvents()}return e.register=function(t,n,o,s,r){var l=this;(r.initializationEventRoot||n).on(i.InitializationEvents.afterInitialization,function(){if(l.shouldEnableResponsiveMode(n)){var i=p.find(l.componentManagers,function(e){return n.el==e.coveoRoot.el});if(i||(i=new e(n),l.componentManagers.push(i)),!a.Utils.isNullOrUndefined(r.enableResponsiveMode)&&!r.enableResponsiveMode)return void i.disableComponent(o);l.componentInitializations.push({responsiveComponentsManager:i,arguments:[t,n,o,s,r]})}if(0==--l.remainingComponentInitializations)if(l.instantiateResponsiveComponents(),0==n.width()){var u=new c.Logger("ResponsiveComponentsManager");u.info("Search interface width is 0, cannot dispatch resize events to responsive components. Will try again after first\n          query success."),n.one(d.QueryEvents.querySuccess,function(){l.resizeAllComponentsManager()})}else l.resizeAllComponentsManager()}),this.remainingComponentInitializations++},e.shouldEnableResponsiveMode=function(e){var t=s.Component.get(e.el,r.SearchInterface,!0);return t instanceof r.SearchInterface&&t.options.enableAutomaticResponsiveMode},e.instantiateResponsiveComponents=function(){p.each(this.componentInitializations,function(e){var t=e.responsiveComponentsManager;t.register.apply(t,e.arguments)})},e.resizeAllComponentsManager=function(){p.each(this.componentManagers,function(e){e.resizeListener()})},e.prototype.register=function(e,t,n,o,i){if(!this.isDisabled(n)){if(!this.isActivated(n)){var s=new e(t,n,i);this.isTabs(n)?this.responsiveComponents.push(s):this.responsiveComponents.unshift(s)}p.each(this.responsiveComponents,function(e){null!=e.registerComponent&&e.registerComponent(o)})}},e.prototype.disableComponent=function(e){this.disabledComponents.push(e)},e.prototype.isDisabled=function(e){return-1!=p.indexOf(this.disabledComponents,e)},e.prototype.shouldSwitchToSmallMode=function(){var e=this.needDropdownWrapper(),t=this.coveoRoot.width()<=this.searchInterface.responsiveComponents.getMediumScreenWidth();return e||t},e.prototype.needDropdownWrapper=function(){for(var e=0;e<this.responsiveComponents.length;e++){var t=this.responsiveComponents[e];if(t.needDropdownWrapper&&t.needDropdownWrapper())return!0}return!1},e.prototype.addDropdownHeaderWrapperIfNeeded=function(){if(this.needDropdownWrapper()){var e=o.$$(this.coveoRoot).find(".coveo-tab-section");this.searchBoxElement?this.dropdownHeadersWrapper.insertAfter(this.searchBoxElement):e?this.dropdownHeadersWrapper.insertAfter(e):this.coveoRoot.prepend(this.dropdownHeadersWrapper.el)}},e.prototype.isTabs=function(e){return"Tab"==e},e.prototype.isActivated=function(e){return void 0!=p.find(this.responsiveComponents,function(t){return t.ID==e})},e.prototype.getSearchBoxElement=function(){var e=this.coveoRoot.find(".coveo-search-section");return e||this.coveoRoot.find(".CoveoSearchbox")},e.prototype.bindNukeEvents=function(){var e=this;o.$$(this.coveoRoot).on(i.InitializationEvents.nuke,function(){window.removeEventListener("resize",e.resizeListener)})},e}();l.DROPDOWN_HEADER_WRAPPER_CSS_CLASS="coveo-dropdown-header-wrapper",l.RESIZE_DEBOUNCE_DELAY=200,l.componentManagers=[],l.remainingComponentInitializations=0,l.componentInitializations=[],t.ResponsiveComponentsManager=l},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.shouldDrawFacetSlider=function(e){return!this.isSmallFacetActivated(e)&&!this.isSmallRecommendationActivated(e)},e.isSmallTabsActivated=function(e){return e.hasClass(this.smallTabsClassName)},e.isSmallFacetActivated=function(e){return e.hasClass(this.smallFacetClassName)},e.isSmallRecommendationActivated=function(e){return e.hasClass(this.smallRecommendationClassName)},e.activateSmallTabs=function(e){e.addClass(this.smallTabsClassName)},e.deactivateSmallTabs=function(e){e.removeClass(this.smallTabsClassName)},e.activateSmallFacet=function(e){e.addClass(this.smallFacetClassName)},e.deactivateSmallFacet=function(e){e.removeClass(this.smallFacetClassName)},e.activateSmallRecommendation=function(e){e.addClass(this.smallRecommendationClassName)},e.deactivateSmallRecommendation=function(e){e.removeClass(this.smallRecommendationClassName)},e}();o.smallTabsClassName="coveo-small-tabs",o.smallFacetClassName="coveo-small-facets",o.smallRecommendationClassName="coveo-small-recommendation",t.ResponsiveComponentsUtils=o}});