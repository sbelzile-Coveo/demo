{"version":3,"sources":["./src/utils/ChatterUtils.ts","./src/ui/ChatterPostedBy/ChatterPostedBy.ts"],"names":[],"mappings":"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","file":"ChatterPostedBy.js","sourcesContent":["export class ChatterUtils {\n  static buildURI(objectURI: string, objectId: string, newObjectId: string) {\n    return objectURI.replace(objectId, newObjectId);\n  }\n\n  static bindClickEventToElement(element: HTMLElement, openInPrimaryTab: boolean, openInSubTab: boolean) {\n    return element;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ChatterUtils.ts","import { Component } from '../Base/Component';\nimport { ComponentOptions } from '../Base/ComponentOptions';\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { ChatterUtils } from '../../utils/ChatterUtils';\nimport { Initialization } from '../Base/Initialization';\nimport { l } from '../../strings/Strings';\nimport { Utils } from '../../utils/Utils';\nimport { $$ } from '../../utils/Dom';\nimport { exportGlobally } from '../../GlobalExports';\n\nexport interface IChatterPostedByOption {\n  enablePostedOn: boolean;\n  useFromInstead: boolean;\n  openInPrimaryTab: boolean;\n  openInSubTab: boolean;\n}\n\nexport class ChatterPostedBy extends Component {\n  static ID = 'ChatterPostedBy';\n\n  static doExport = () => {\n    exportGlobally({\n      'ChatterPostedBy': ChatterPostedBy\n    });\n  }\n\n  static options: IChatterPostedByOption = {\n    enablePostedOn: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    useFromInstead: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInPrimaryTab: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInSubTab: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n  };\n\n  constructor(public element: HTMLElement, public options?: IChatterPostedByOption, public bindings?: IResultsComponentBindings, public result?: IQueryResult) {\n    super(element, ChatterPostedBy.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ChatterPostedBy, options);\n\n    if (Utils.getFieldValue(this.result, 'sfcreatedby') != null) {\n      let from = $$('span');\n      from.text(`${this.options.useFromInstead ? l('From') : l('PostedBy')} `);\n      $$(element).append(from.el);\n      $$(element).append(this.renderLink(Utils.getFieldValue(this.result, 'sfcreatedby'), Utils.getFieldValue(this.result, 'sfcreatedbyid')));\n\n      if (this.options.enablePostedOn && !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfparentname')) && !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfparentid'))) {\n        // Post on user's wall\n        if (!Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfuserid')) && Utils.getFieldValue(this.result, 'sfuserid') != Utils.getFieldValue(this.result, 'sfinsertedbyid')) {\n          let onFeed = $$('span');\n          let content = ` ${l('OnFeed', this.renderLink(Utils.getFieldValue(this.result, 'sfparentname'), Utils.getFieldValue(this.result, 'sfparentid')).outerHTML)}`;\n          onFeed.el.innerHTML = content;\n          $$(element).append(onFeed.el);\n\n        } else if (Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfuserid'))) {\n          let onUser = $$('span');\n          onUser.text(` ${l('On').toLowerCase()} `);\n          $$(element).append(onUser.el);\n          $$(element).append(this.renderLink(Utils.getFieldValue(this.result, 'sfparentname'), Utils.getFieldValue(this.result, 'sfparentid')));\n        }\n      }\n    }\n  }\n\n  private renderLink(text: string, id: string): HTMLElement {\n    let link = $$('a', {\n      href: ChatterUtils.buildURI(this.result.clickUri, Utils.getFieldValue(this.result, 'sffeeditemid'), id)\n    });\n    link.text(text);\n    return ChatterUtils.bindClickEventToElement(link.el, this.options.openInPrimaryTab, this.options.openInSubTab);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ChatterPostedBy);\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/ChatterPostedBy/ChatterPostedBy.ts"],"sourceRoot":""}