webpackJsonpCoveo__temporary([16,29,55],{251:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=o(8),s=o(9),r=o(79),l=o(2),u=o(45),p=o(3),a=o(27),c=o(1),d=o(4),h=o(46),f=function(t){function e(o,n,u,d,h){void 0===h&&(h=a.ModalBox);var f=t.call(this,o,e.ID,u)||this;f.element=o,f.options=n,f.bindings=u,f.result=d,f.ModalBox=h,f.options=s.ComponentOptions.initComponentOptions(o,e,n),f.resultLink=p.$$("a"),f.resultLink.addClass(i.Component.computeCssClassName(r.ResultLink));var m=p.$$("div");m.addClass("coveo-youtube-thumbnail-container"),f.resultLink.append(m.el);var O=p.$$("img");O.el.style.width=f.options.width,O.el.style.height=f.options.height,O.setAttribute("src",d.raw.ytthumbnailurl),O.addClass("coveo-youtube-thumbnail-img"),m.append(O.el);var b=p.$$("span");b.addClass("coveo-youtube-thumbnail-play-button"),m.append(b.el),p.$$(f.element).append(f.resultLink.el),f.options.embed&&(f.options=c.extend(f.options,{onClick:function(){return f.openYoutubeIframe()}}));var g=f.searchInterface.options.originalOptionsObject,v=c.extend({},f.getBindings(),{resultElement:o}),k={options:c.extend({},{initOptions:{ResultLink:n}},g),bindings:v,result:d};return l.Initialization.automaticallyCreateComponentsInside(o,k),f}return n(e,t),e.prototype.openResultLink=function(){h.get(this.resultLink.el).openLinkAsConfigured()},e.prototype.openYoutubeIframe=function(){var t=this,e=p.$$("iframe"),o=p.$$("div");e.setAttribute("src","https://www.youtube.com/embed/"+this.extractVideoId()+"?autoplay=1"),e.setAttribute("allowfullscreen","allowfullscreen"),e.setAttribute("webkitallowfullscreen","webkitallowfullscreen"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),o.append(e.el),this.modalbox=this.ModalBox.open(o.el,{overlayClose:!0,title:u.DomUtils.getQuickviewHeader(this.result,{showDate:!0,title:this.result.title},this.bindings).el.outerHTML,className:"coveo-youtube-player",validation:function(){return!0},body:this.element.ownerDocument.body,sizeMod:"big"}),p.$$(p.$$(this.modalbox.wrapper).find(".coveo-quickview-close-button")).on("click",function(){t.modalbox.close()})},e.prototype.extractVideoId=function(){return this.result.clickUri.split("watch?v=")[1]},e}(i.Component);f.ID="YouTubeThumbnail",f.doExport=function(){d.exportGlobally({YouTubeThumbnail:f})},f.options={width:s.ComponentOptions.buildStringOption({defaultValue:"200px"}),height:s.ComponentOptions.buildStringOption({defaultValue:"112px"}),embed:s.ComponentOptions.buildBooleanOption({defaultValue:!0})},e.YouTubeThumbnail=f,l.Initialization.registerAutoCreateComponent(f)},286:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=o(8),s=o(9),r=o(2),l=o(1),u=o(5),p=o(4),a=o(251),c=o(3),d=o(27);o(582);var h=function(t){function e(o,n,i,p,a,c){void 0===c&&(c=d.ModalBox);var h=t.call(this,o,e.ID,i)||this;h.element=o,h.options=n,h.result=p,h._window=a,h.ModalBox=c,h.options=s.ComponentOptions.initComponentOptions(o,e,n),h._window=h._window||window;var f="";h.options.overlayColor&&(f+="linear-gradient("+h.options.overlayColor+", "+(h.options.overlayGradient?"rgba(0,0,0,0)":h.options.overlayColor)+"), "),f+="url('"+(h.options.imageUrl||u.Utils.getFieldValue(p,h.options.imageField))+"') center center",h.element.style.background=f,h.element.style.backgroundSize="cover";var m=h.searchInterface.options.originalOptionsObject,O=l.extend({},h.getBindings(),{resultElement:o}),b={options:l.extend({},{initOptions:{ResultLink:n}},m),bindings:O,result:p};return r.Initialization.automaticallyCreateComponentsInside(h.element,b),h.configureSpecialBackdropActions(),h}return n(e,t),e.prototype.configureSpecialBackdropActions=function(){if(u.Utils.getFieldValue(this.result,"ytthumbnailurl")){var t=new a.YouTubeThumbnail(c.$$("div").el,{embed:!0},this.getBindings(),this.result,this.ModalBox);c.$$(this.element).on("click",function(e){c.$$(e.target).hasClass("CoveoResultLink")||t.openResultLink()})}},e}(i.Component);h.ID="Backdrop",h.doExport=function(){p.exportGlobally({Backdrop:h})},h.options={imageUrl:s.ComponentOptions.buildStringOption(),imageField:s.ComponentOptions.buildFieldOption(),overlayColor:s.ComponentOptions.buildColorOption(),overlayGradient:s.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"overlayColor"})},e.Backdrop=h,r.Initialization.registerAutoCreateComponent(h)},479:function(t,e){},582:function(t,e){},79:function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=o(8),s=o(9),r=o(26),l=o(12),u=o(32),p=o(47),a=o(22),c=o(246),d=o(2),h=o(19),f=o(7),m=o(5),O=o(28),b=o(3),g=o(65),v=o(1),k=o(4);o(479);var y=function(t){function e(o,n,i,u,p){var c=t.call(this,o,e.ID,i)||this;return c.element=o,c.options=n,c.bindings=i,c.result=u,c.os=p,c.logOpenDocument=v.debounce(function(){c.queryController.saveLastQuery();var t=b.$$(c.element).getAttribute("href");void 0!=t&&""!=t||(t=c.result.clickUri),c.usageAnalytics.logClickEvent(l.analyticsActionCauseList.documentOpen,{documentURL:t,documentTitle:c.result.title,author:m.Utils.getFieldValue(c.result,"author")},c.result,c.root),O.Defer.flush()},1500,!0),c.options=s.ComponentOptions.initComponentOptions(o,e,n),c.options=v.extend({},c.options,c.componentOptionsModel.get(r.ComponentOptionsModel.attributesEnum.resultLink)),c.result=u||c.resolveResult(),null==c.options.openQuickview&&(c.options.openQuickview="ExchangeCrawler"==u.raw.connectortype&&a.DeviceUtils.isMobileDevice()),c.element.setAttribute("tabindex","0"),f.Assert.exists(c.componentOptionsModel),f.Assert.exists(c.result),c.quickviewShouldBeOpened()||(b.$$(o).on("contextmenu",function(){c.logOpenDocument()}),b.$$(o).on("click",function(){c.logOpenDocument()})),c.renderUri(o,u),c.bindEventToOpen(),c}return n(e,t),e.prototype.renderUri=function(t,e){if(/^\s*$/.test(this.element.innerHTML))if(this.options.titleTemplate){var o=this.parseStringTemplate(this.options.titleTemplate);this.element.innerHTML=o?g.StreamHighlightUtils.highlightStreamText(o,this.result.termsToHighlight,this.result.phrasesToHighlight):this.result.clickUri}else this.element.innerHTML=this.result.title?p.HighlightUtils.highlightString(this.result.title,this.result.titleHighlights,null,"coveo-highlight"):this.result.clickUri},e.prototype.openLink=function(t){void 0===t&&(t=!0),t&&this.logOpenDocument(),window.location.href=this.getResultUri()},e.prototype.openLinkInNewWindow=function(t){void 0===t&&(t=!0),t&&this.logOpenDocument(),window.open(this.getResultUri(),"_blank")},e.prototype.openLinkInOutlook=function(t){void 0===t&&(t=!0),this.hasOutlookField()&&(t&&this.logOpenDocument(),this.openLink())},e.prototype.openLinkAsConfigured=function(t){void 0===t&&(t=!0),this.toExecuteOnOpen&&(t&&this.logOpenDocument(),this.toExecuteOnOpen())},e.prototype.bindEventToOpen=function(){return this.bindOnClickIfNotUndefined()||this.bindOpenQuickviewIfNotUndefined()||this.setHrefIfNotAlready()||this.openLinkThatIsNotAnAnchor()},e.prototype.bindOnClickIfNotUndefined=function(){var t=this;return void 0!=this.options.onClick&&(this.toExecuteOnOpen=function(e){t.options.onClick.call(t,e,t.result)},b.$$(this.element).on("click",function(e){t.toExecuteOnOpen(e)}),!0)},e.prototype.bindOpenQuickviewIfNotUndefined=function(){var t=this;return!!this.quickviewShouldBeOpened()&&(this.toExecuteOnOpen=function(){b.$$(t.bindings.resultElement).trigger(u.ResultListEvents.openQuickview)},b.$$(this.element).on("click",function(e){e.preventDefault(),t.toExecuteOnOpen()}),!0)},e.prototype.openLinkThatIsNotAnAnchor=function(){var t=this;return!this.elementIsAnAnchor()&&(this.toExecuteOnOpen=function(){t.options.alwaysOpenInNewWindow?t.options.openInOutlook?t.openLinkInOutlook():t.openLinkInNewWindow():t.openLink()},b.$$(this.element).on("click",function(){t.toExecuteOnOpen()}),!0)},e.prototype.setHrefIfNotAlready=function(){return!(!this.elementIsAnAnchor()||m.Utils.isNonEmptyString(b.$$(this.element).getAttribute("href")))&&(b.$$(this.element).setAttribute("href",this.getResultUri()),!this.options.alwaysOpenInNewWindow||this.options.openInOutlook&&this.hasOutlookField()||b.$$(this.element).setAttribute("target","_blank"),!0)},e.prototype.getResultUri=function(){return this.options.hrefTemplate?this.parseStringTemplate(this.options.hrefTemplate):(void 0==this.options.field&&this.options.openInOutlook&&this.setField(),void 0!=this.options.field?m.Utils.getFieldValue(this.result,this.options.field):this.result.clickUri)},e.prototype.elementIsAnAnchor=function(){return"A"==this.element.tagName},e.prototype.setField=function(){var t=m.Utils.exists(this.os)?this.os:c.OSUtils.get();t==c.OS_NAME.MACOSX&&this.hasOutlookField()?this.options.field="@outlookformacuri":t==c.OS_NAME.WINDOWS&&this.hasOutlookField()&&(this.options.field="@outlookuri")},e.prototype.hasOutlookField=function(){var t=m.Utils.exists(this.os)?this.os:c.OSUtils.get();return t==c.OS_NAME.MACOSX&&void 0!=this.result.raw.outlookformacuri||t==c.OS_NAME.WINDOWS&&void 0!=this.result.raw.outlookuri},e.prototype.isUriThatMustBeOpenedInQuickview=function(){return 0==this.result.clickUri.toLowerCase().indexOf("ldap://")},e.prototype.quickviewShouldBeOpened=function(){return(this.options.openQuickview||this.isUriThatMustBeOpenedInQuickview())&&h.QueryUtils.hasHTMLVersion(this.result)},e.prototype.parseStringTemplate=function(t){var e=this;return t?t.replace(/\$\{(.*?)\}/g,function(t){var o=t.substring(2,t.length-1),n=e.readFromObject(e.result,o);return n||(n=e.readFromObject(window,o)),n||e.logger.warn(o+" used in the ResultLink template is undefined for this result: "+e.result.title),n||t}):""},e.prototype.readFromObject=function(t,e){if(t&&-1!==e.indexOf(".")){var o=e.substring(e.indexOf(".")+1);return e=e.substring(0,e.indexOf(".")),this.readFromObject(t[e],o)}return t?t[e]:void 0},e}(i.Component);y.ID="ResultLink",y.doExport=function(){k.exportGlobally({ResultLink:y})},y.options={field:s.ComponentOptions.buildFieldOption(),openInOutlook:s.ComponentOptions.buildBooleanOption({defaultValue:!1}),openQuickview:s.ComponentOptions.buildBooleanOption({defaultValue:!1}),alwaysOpenInNewWindow:s.ComponentOptions.buildBooleanOption({defaultValue:!1}),hrefTemplate:s.ComponentOptions.buildStringOption(),titleTemplate:s.ComponentOptions.buildStringOption(),onClick:s.ComponentOptions.buildCustomOption(function(){return null})},e.ResultLink=y,d.Initialization.registerAutoCreateComponent(y)}});