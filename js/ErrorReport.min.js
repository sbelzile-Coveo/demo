webpackJsonpCoveo__temporary([60],{296:function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(9),s=r(3),l=r(11),a=r(12),u=r(10),c=r(7),p=r(2),h=r(4);r(587);var y=function(e){function t(r,o,n){var a=e.call(this,r,t.ID,n)||this;a.element=r,a.options=o,a.options=i.ComponentOptions.initComponentOptions(r,t,o);var u=s.$$("div",{className:"coveo-error-report-title"},"<h3></h3><h4></h4>");a.element.appendChild(u.el);var c=s.$$("div",{className:"coveo-error-report-options"});return c.el.appendChild(a.buildPrevious()),c.el.appendChild(a.buildReset()),c.el.appendChild(a.buildRetry()),a.message=s.$$("div",{className:"coveo-error-report-message"}),a.element.appendChild(c.el),a.element.appendChild(a.message.el),s.$$(a.element).hide(),a.bind.onRootElement(l.QueryEvents.newQuery,function(){return a.handleNewQuery()}),a.bind.onRootElement(l.QueryEvents.queryError,function(e){return a.handleQueryError(e)}),a}return o(t,e),t.prototype.back=function(){this.usageAnalytics.logCustomEvent(a.analyticsActionCauseList.errorBack,{},this.root),this.usageAnalytics.logSearchEvent(a.analyticsActionCauseList.errorBack,{}),history.back()},t.prototype.reset=function(){this.queryStateModel.reset(),this.usageAnalytics.logSearchEvent(a.analyticsActionCauseList.errorClearQuery,{}),this.usageAnalytics.logCustomEvent(a.analyticsActionCauseList.errorClearQuery,{},this.root),this.queryController.executeQuery()},t.prototype.retry=function(){this.usageAnalytics.logSearchEvent(a.analyticsActionCauseList.errorRetry,{}),this.usageAnalytics.logCustomEvent(a.analyticsActionCauseList.errorRetry,{},this.root),this.queryController.executeQuery()},t.prototype.setErrorTitle=function(){var e={h3:u.l("OopsError"),h4:u.l("ProblemPersists")},t=s.$$(this.element).find("h3"),r=s.$$(this.element).find("h4");t&&r&&(s.$$(t).text(e.h3),s.$$(r).text(e.h4))},t.prototype.buildPrevious=function(){var e=this,t=s.$$("span",{className:"coveo-error-report-previous"},u.l("GoBack"));return t.on("click",function(){return e.back()}),t.el},t.prototype.buildReset=function(){var e=this,t=s.$$("span",{className:"coveo-error-report-clear"},u.l("Reset"));return t.on("click",function(){return e.reset()}),t.el},t.prototype.buildRetry=function(){var e=this,t=s.$$("span",{className:"coveo-error-report-retry"},u.l("Retry"));return t.on("click",function(){return e.retry()}),t.el},t.prototype.handleNewQuery=function(){s.$$(this.element).hide(),null!=this.closePopup&&this.closePopup()},t.prototype.handleQueryError=function(e){var t=this;if(c.Assert.exists(e),c.Assert.exists(e.error),!e.error.isMissingAuthentication){if(this.message.empty(),this.setErrorTitle(),this.options.showDetailedError){var r=s.$$("span",{className:"coveo-error-report-more-info"},u.l("MoreInfo"));r.on("click",function(){r.empty(),t.message.el.appendChild(t.buildErrorInfo(e.error))}),this.message.el.appendChild(r.el)}s.$$(this.element).show()}},t.prototype.buildErrorInfo=function(e){var t=s.$$("div",{className:"coveo-error-info"}),r=s.$$("textarea",void 0,JSON.stringify(e,null,2));t.el.appendChild(r.el);var o=s.$$("div",{className:"coveo-error-info-label"},u.l("CopyPasteToSupport"));return t.el.appendChild(o.el),t.el},t}(n.Component);y.ID="ErrorReport",y.doExport=function(){h.exportGlobally({ErrorReport:y})},y.options={showDetailedError:i.ComponentOptions.buildBooleanOption({defaultValue:!0})},t.ErrorReport=y,p.Initialization.registerAutoCreateComponent(y)},587:function(e,t){}});