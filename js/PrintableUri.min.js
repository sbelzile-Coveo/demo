webpackJsonpCoveo__temporary([20,55],{312:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),r=i(47),s=i(2),l=i(5),p=i(3),u=i(4);i(599);var h=i(79),a=i(65),c=i(1),d=i(26),f=function(t){function e(i,n,r,s){var l=t.call(this,i,o.ComponentOptions.initComponentOptions(i,e,n),r,s)||this;return l.element=i,l.options=n,l.result=s,l.options=c.extend({},l.options,l.componentOptionsModel.get(d.ComponentOptionsModel.attributesEnum.resultLink)),l}return n(e,t),e.prototype.renderParentsXml=function(t,e){for(var i=l.Utils.parseXml(e),n=i.getElementsByTagName("parent"),o=[],r=[],s=0;s<n.length;s++){if(s>0){var p=this.buildSeparator();r.push(p),t.appendChild(p)}var u=n.item(s),h=this.buildHtmlToken(u.getAttribute("name"),u.getAttribute("uri"));o.push(h),t.appendChild(h)}},e.prototype.renderUri=function(t,e){var i=l.Utils.getFieldValue(e,"parents");if(i)this.renderParentsXml(t,i);else if(this.options.titleTemplate){if(this.options.titleTemplate){var n=this.parseStringTemplate(this.options.titleTemplate);this.element.innerHTML=n?a.StreamHighlightUtils.highlightStreamText(n,this.result.termsToHighlight,this.result.phrasesToHighlight):this.result.clickUri}}else{this.uri=e.clickUri;var o=void 0;o=-1==e.printableUri.indexOf("\\")?r.StringAndHoles.shortenUri(e.printableUri,p.$$(t).width()):r.StringAndHoles.shortenPath(e.printableUri,p.$$(t).width()),this.shortenedUri=r.HighlightUtils.highlightString(o.value,e.printableUriHighlights,o.holes,"coveo-highlight");var s=p.$$("a",{className:"coveo-printable-uri-part",title:e.printableUri});s.setHtml(this.shortenedUri),t.appendChild(s.el)}t.title=this.result.printableUri},e.prototype.buildSeparator=function(){return p.$$("span",{className:"coveo-printable-uri-separator"}," > ").el},e.prototype.buildHtmlToken=function(t,e){var i=t.charAt(0).toUpperCase()+t.slice(1),n=p.$$("span",{className:"coveo-printable-uri-part"},i);return this.uri=e,n.el},e}(h.ResultLink);f.ID="PrintableUri",f.options={},f.doExport=function(){u.exportGlobally({PrintableUri:f})},e.PrintableUri=f,f.options=c.extend({},f.options,h.ResultLink.options),s.Initialization.registerAutoCreateComponent(f)},479:function(t,e){},599:function(t,e){},79:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),r=i(9),s=i(26),l=i(12),p=i(32),u=i(47),h=i(22),a=i(246),c=i(2),d=i(19),f=i(7),O=i(5),m=i(28),g=i(3),v=i(65),k=i(1),b=i(4);i(479);var y=function(t){function e(i,n,o,p,u){var a=t.call(this,i,e.ID,o)||this;return a.element=i,a.options=n,a.bindings=o,a.result=p,a.os=u,a.logOpenDocument=k.debounce(function(){a.queryController.saveLastQuery();var t=g.$$(a.element).getAttribute("href");void 0!=t&&""!=t||(t=a.result.clickUri),a.usageAnalytics.logClickEvent(l.analyticsActionCauseList.documentOpen,{documentURL:t,documentTitle:a.result.title,author:O.Utils.getFieldValue(a.result,"author")},a.result,a.root),m.Defer.flush()},1500,!0),a.options=r.ComponentOptions.initComponentOptions(i,e,n),a.options=k.extend({},a.options,a.componentOptionsModel.get(s.ComponentOptionsModel.attributesEnum.resultLink)),a.result=p||a.resolveResult(),null==a.options.openQuickview&&(a.options.openQuickview="ExchangeCrawler"==p.raw.connectortype&&h.DeviceUtils.isMobileDevice()),a.element.setAttribute("tabindex","0"),f.Assert.exists(a.componentOptionsModel),f.Assert.exists(a.result),a.quickviewShouldBeOpened()||(g.$$(i).on("contextmenu",function(){a.logOpenDocument()}),g.$$(i).on("click",function(){a.logOpenDocument()})),a.renderUri(i,p),a.bindEventToOpen(),a}return n(e,t),e.prototype.renderUri=function(t,e){if(/^\s*$/.test(this.element.innerHTML))if(this.options.titleTemplate){var i=this.parseStringTemplate(this.options.titleTemplate);this.element.innerHTML=i?v.StreamHighlightUtils.highlightStreamText(i,this.result.termsToHighlight,this.result.phrasesToHighlight):this.result.clickUri}else this.element.innerHTML=this.result.title?u.HighlightUtils.highlightString(this.result.title,this.result.titleHighlights,null,"coveo-highlight"):this.result.clickUri},e.prototype.openLink=function(t){void 0===t&&(t=!0),t&&this.logOpenDocument(),window.location.href=this.getResultUri()},e.prototype.openLinkInNewWindow=function(t){void 0===t&&(t=!0),t&&this.logOpenDocument(),window.open(this.getResultUri(),"_blank")},e.prototype.openLinkInOutlook=function(t){void 0===t&&(t=!0),this.hasOutlookField()&&(t&&this.logOpenDocument(),this.openLink())},e.prototype.openLinkAsConfigured=function(t){void 0===t&&(t=!0),this.toExecuteOnOpen&&(t&&this.logOpenDocument(),this.toExecuteOnOpen())},e.prototype.bindEventToOpen=function(){return this.bindOnClickIfNotUndefined()||this.bindOpenQuickviewIfNotUndefined()||this.setHrefIfNotAlready()||this.openLinkThatIsNotAnAnchor()},e.prototype.bindOnClickIfNotUndefined=function(){var t=this;return void 0!=this.options.onClick&&(this.toExecuteOnOpen=function(e){t.options.onClick.call(t,e,t.result)},g.$$(this.element).on("click",function(e){t.toExecuteOnOpen(e)}),!0)},e.prototype.bindOpenQuickviewIfNotUndefined=function(){var t=this;return!!this.quickviewShouldBeOpened()&&(this.toExecuteOnOpen=function(){g.$$(t.bindings.resultElement).trigger(p.ResultListEvents.openQuickview)},g.$$(this.element).on("click",function(e){e.preventDefault(),t.toExecuteOnOpen()}),!0)},e.prototype.openLinkThatIsNotAnAnchor=function(){var t=this;return!this.elementIsAnAnchor()&&(this.toExecuteOnOpen=function(){t.options.alwaysOpenInNewWindow?t.options.openInOutlook?t.openLinkInOutlook():t.openLinkInNewWindow():t.openLink()},g.$$(this.element).on("click",function(){t.toExecuteOnOpen()}),!0)},e.prototype.setHrefIfNotAlready=function(){return!(!this.elementIsAnAnchor()||O.Utils.isNonEmptyString(g.$$(this.element).getAttribute("href")))&&(g.$$(this.element).setAttribute("href",this.getResultUri()),!this.options.alwaysOpenInNewWindow||this.options.openInOutlook&&this.hasOutlookField()||g.$$(this.element).setAttribute("target","_blank"),!0)},e.prototype.getResultUri=function(){return this.options.hrefTemplate?this.parseStringTemplate(this.options.hrefTemplate):(void 0==this.options.field&&this.options.openInOutlook&&this.setField(),void 0!=this.options.field?O.Utils.getFieldValue(this.result,this.options.field):this.result.clickUri)},e.prototype.elementIsAnAnchor=function(){return"A"==this.element.tagName},e.prototype.setField=function(){var t=O.Utils.exists(this.os)?this.os:a.OSUtils.get();t==a.OS_NAME.MACOSX&&this.hasOutlookField()?this.options.field="@outlookformacuri":t==a.OS_NAME.WINDOWS&&this.hasOutlookField()&&(this.options.field="@outlookuri")},e.prototype.hasOutlookField=function(){var t=O.Utils.exists(this.os)?this.os:a.OSUtils.get();return t==a.OS_NAME.MACOSX&&void 0!=this.result.raw.outlookformacuri||t==a.OS_NAME.WINDOWS&&void 0!=this.result.raw.outlookuri},e.prototype.isUriThatMustBeOpenedInQuickview=function(){return 0==this.result.clickUri.toLowerCase().indexOf("ldap://")},e.prototype.quickviewShouldBeOpened=function(){return(this.options.openQuickview||this.isUriThatMustBeOpenedInQuickview())&&d.QueryUtils.hasHTMLVersion(this.result)},e.prototype.parseStringTemplate=function(t){var e=this;return t?t.replace(/\$\{(.*?)\}/g,function(t){var i=t.substring(2,t.length-1),n=e.readFromObject(e.result,i);return n||(n=e.readFromObject(window,i)),n||e.logger.warn(i+" used in the ResultLink template is undefined for this result: "+e.result.title),n||t}):""},e.prototype.readFromObject=function(t,e){if(t&&-1!==e.indexOf(".")){var i=e.substring(e.indexOf(".")+1);return e=e.substring(0,e.indexOf(".")),this.readFromObject(t[e],i)}return t?t[e]:void 0},e}(o.Component);y.ID="ResultLink",y.doExport=function(){b.exportGlobally({ResultLink:y})},y.options={field:r.ComponentOptions.buildFieldOption(),openInOutlook:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),openQuickview:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),alwaysOpenInNewWindow:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),hrefTemplate:r.ComponentOptions.buildStringOption(),titleTemplate:r.ComponentOptions.buildStringOption(),onClick:r.ComponentOptions.buildCustomOption(function(){return null})},e.ResultLink=y,c.Initialization.registerAutoCreateComponent(y)}});